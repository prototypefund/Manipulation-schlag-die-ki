<game>

    <h1 class="centered"> Runde 1 </h1>

    <!-- space for instruction text -->
    <text-panel class="centered hidden" text={textPanel.text}></text-panel>

    <!-- the challenge image -->
    <image-panel class="centered" image={opts.image}></image-panel>

    <!-- answers -->
    <answers class="centered" answers={opts.answers} correct={opts.correct} controller={answers}></answers>

    <!-- progress bar -->
    <timer class="centered" length=3 controller={timer}></timer>

    <script>
        var tag = this;

        tag.imagePanel = {"hidden": true};
        tag.textPanel = {"hidden": false, "text": "Hier erscheint gleich ein Bild. Welches Verkehrszeichen ist zu sehen?"};



        timer = riot.observable();
        answers = riot.observable();


        timer.on("timeout", () => answers.trigger("disable"));
        answers.on("correct", () => {timer.trigger("stop"); answers.trigger("disable")});
        answers.on("incorrect", () => {timer.trigger("stop"); answers.trigger("disable")});

        this.on("mount", () => timer.trigger("start"));
    </script>
</game>



<image-panel>
    <img src={opts.image} class="panel" alt="challenge image"/>

    <!--script>
        this.observable.on("new image", args => console.log(args));
    </script-->
</image-panel>

<text-panel>
    <span class="panel"> {opts.text}</span>

    <!--text-align: center;-->
</text-panel>